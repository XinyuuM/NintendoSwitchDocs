<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">VLAN 基础配置之理解Hybrid 接口 | alone的博客</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://all-alone.cocomoe.cn/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://all-alone.cocomoe.cn/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://all-alone.cocomoe.cn/2021/1/20/VLAN 基础配置之理解Hybrid 接口"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="VLAN 基础配置之理解Hybrid 接口 | alone的博客"><meta data-rh="true" name="description" content="关于本实验的所需要的知识点补充"><meta data-rh="true" property="og:description" content="关于本实验的所需要的知识点补充"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2021-01-20T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://space.bilibili.com/21977351"><meta data-rh="true" property="article:tag" content="VLAN,实验,交换机"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://all-alone.cocomoe.cn/2021/1/20/VLAN 基础配置之理解Hybrid 接口"><link data-rh="true" rel="alternate" href="https://all-alone.cocomoe.cn/2021/1/20/VLAN 基础配置之理解Hybrid 接口" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://all-alone.cocomoe.cn/2021/1/20/VLAN 基础配置之理解Hybrid 接口" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="alone的博客 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="alone的博客 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.676b9aa2.css">
<script src="/assets/js/runtime~main.bfaeb30c.js" defer="defer"></script>
<script src="/assets/js/main.b708ccd4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">alon的博客</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2024/1/17/VLAN 基础配置之配置Trunk 接口">VLAN 基础配置之配置Trunk 接口</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/VLAN 基础配置和配置Access 接口">VLAN 基础配置和配置Access 接口</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/IPv4 静态路由基础实验">IPv4 静态路由基础实验</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/2021/1/20/VLAN 基础配置之理解Hybrid 接口">VLAN 基础配置之理解Hybrid 接口</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="关于本实验的所需要的知识点补充"><header><h1 class="title_f1Hy" itemprop="headline">VLAN 基础配置之理解Hybrid 接口</h1><div class="container_mt6G margin-vert--md"><time datetime="2021-01-20T00:00:00.000Z" itemprop="datePublished">2021年1月20日</time> · <!-- -->阅读需 9 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://space.bilibili.com/21977351" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://static.xinyuu.info/static/all-alone.jpg" alt="all-alone" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://space.bilibili.com/21977351" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">all-alone</span></a></div><small class="avatar__subtitle" itemprop="description">Administrator</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>关于本实验的所需要的知识点补充</p>
<p><em><strong>*hybrid*</strong></em> <strong>部分</strong></p>
<p>在华为交换机中，Hybrid 接口通常指的是支持同时传输多种不同协议或介质的接口。它是指在单个接口上可以同时支持不同类型的数据传输，比如同时支持以太网和光纤通信。</p>
<p>具体来说，在华为交换机中的 Hybrid 接口一般是指具备多种物理接口和传输方式的端口。这些接口可以同时支持不同速率、不同类型的数据传输，例如同时支持 Ethernet（以太网）和 Fiber Channel（光纤通道）的数据传输。</p>
<p>Hybrid 接口的设计使得华为交换机可以更灵活地适应各种网络需求，并提供更多样化的连接选项。通过配置 Hybrid 接口，网络管理员可以根据实际需求选择不同的物理介质和协议，以满足不同设备和应用之间的连接要求。</p>
<p>需要注意的是，Hybrid 接口的具体配置和功能可以因不同的华为交换机型号和软件版本而有所不同。因此，如  果在具体的华为交换机设备上使用 Hybrid 接口，建议参考相应的设备文档或联系华为技术支持获取更准确和详细的信息。</p>
<p>在华为交换机中，Hybrid 接口具有以下作用：</p>
<blockquote>
<ol>
<li>
<p>多协议支持：Hybrid 接口可以同时支持多种不同的协议，如以太网、光纤通道（Fiber Channel）等。这样可以满足网络中的不同设备和应用之间的协议要求，实现灵活的数据传输。</p>
</li>
<li>
<p>多介质支持：Hybrid 接口可以同时支持不同的物理介质，如 RJ-45（铜缆）和光纤等。这样可以适应不同的网络环境和需求，实现灵活的网络连接。</p>
</li>
<li>
<p>弹性配置：通过配置 Hybrid 接口，可以根据实际需求选择合适的协议和介质，并灵活调整接口参数。这样可以根据网络的变化和要求来优化和调整接口的配置。</p>
</li>
<li>
<p>提高网络利用率：Hybrid 接口的多协议和多介质支持，使得网络设备可以更有效地利用资源。例如，可以通过 Hybrid 接口将不同类型的设备连接到同一个交换机上，从而简化网络拓扑结构，提高网络资源的利用效率。</p>
</li>
</ol>
</blockquote>
<p>总之，Hybrid 接口在华为交换机中的作用是为了提供更灵活、可扩展和兼容的网络连接选项，以满足不同设备和应用之间的协议和介质要求，并提高网络资源的利用效率。</p>
<p><strong>/</strong> 实验目的 <strong>/</strong></p>
<ul>
<li>掌握配置Hybrid 接口的方法</li>
<li>理解Hybrid 接口处理Untagged 数据帧过程</li>
<li>理解Hybrid 接口处理Tagged 数据帧过程</li>
<li>理解Hybrid 接口的应用场景</li>
</ul>
<p><strong>/</strong> 实验背景 <strong>/</strong></p>
<p>某企业二层网络使用两台 S3700 交换机 S1 和 S2，且两台设备在不同的楼层。网络管理员规划了 3 个不同 VLAN，HR 部门使用 VLAN10，市场部门使用 VLAN 20，IT 部门使用 VLAN30。现在  需要让处于不同楼层的 HR 部门和市场部门实现部门内部通信，而两部门之间不允许互相通信;IT 部门可以访问任意部门。可以通过配置 Hybrid 接口来实现较复杂的 VLAN 控制。</p>
<p><strong>/</strong> 实验拓扑 <strong>/</strong></p>
<p><img loading="lazy" alt="图片" src="/assets/images/1-28def0a1ffd84043838c970c994615b1.png" width="716" height="553" class="img_ev3q"></p>
<p><strong>/</strong> 实验任务配置 <strong>/</strong></p>
<p><strong>IP 地址规划</strong></p>
<table><thead><tr><th>设备</th><th>接口</th><th>地址</th><th>vlan</th></tr></thead><tbody><tr><td>PC1</td><td>E0/0/1</td><td>192.168.1.1</td><td>20</td></tr><tr><td>PC2</td><td>E0/0/1</td><td>192.168.1.2</td><td>10</td></tr><tr><td>PC3</td><td>E0/0/1</td><td>192.168.1.3</td><td>20</td></tr><tr><td>PC4</td><td>E0/0/1</td><td>192.168.1.4</td><td>10</td></tr><tr><td>PC5</td><td>E0/0/1</td><td>192.168.1.100</td><td>30</td></tr></tbody></table>
<p><strong>基本配置</strong></p>
<p><img loading="lazy" alt="图片" src="/assets/images/2-49235d8ce6008978e3d00fae267a3099.png" width="781" height="533" class="img_ev3q"></p>
<p><img loading="lazy" alt="图片" src="/assets/images/3-20e7b010ba93afb242dbed06de6be3af.png" width="781" height="533" class="img_ev3q"></p>
<p><em><strong>*其他主机间互相通信测试和上述相同*</strong></em></p>
<p><strong>创建 vlan</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[s1]vlan batch 10 20 30[s2]vlan batch 10 20 30</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>配置 hybrid</strong></p>
<p>因为ensp接口类型默认是hybrid，下面我会提供的一些命令参考</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">port link-type hybrid</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>接口类型改为hybrid</p>
<p>S1的配置</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[s1]int Eth 0/0/1[S1-Ethernet0/0/1]port hybrid tagged vlan 10 20[s1]int Eth 0/0/2[S1-Ethernet0/0/2]port hybrid untagged vlan 20[S1-Ethernet0/0/2]port hybrid pvid vlan 20[s1]int Eth 0/0/3[S1-Ethernet0/0/3]port hybrid untagged vlan 10[S1-Ethernet0/0/3]port hybrid pvid vlan 10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>S2的配置</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[S2]int Eth 0/0/1[S2-Ethernet0/0/1]port hybrid tagged vlan 10 20[s2]int Eth 0/0/2[S2-Ethernet0/0/2]port hybrid untagged vlan 20[S2-Ethernet0/0/2]port hybrid pvid vlan 20[S2]int Eth 0/0/3[S2-Ethernet0/0/3]port hybrid untagged vlan 10[S2-Ethernet0/0/3]port hybrid pvid vlan 10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>配置完成后，使用display vlan命令查看使用Hybrid配置下接口和VLAN的对应关系。</p>
<p><img loading="lazy" alt="图片" src="/assets/images/4-76049321c22373491680702bd9b6f654.png" width="1080" height="770" class="img_ev3q"></p>
<p><img loading="lazy" alt="图片" src="/assets/images/5-ffd1d330accfb2490824e67913f6d544.png" width="1080" height="768" class="img_ev3q"></p>
<p>*<strong>5*</strong></p>
<h2></h2>
<p>**延伸部分
**</p>
<p>实现网管员对所有网络的访问在实现各部门内部终端可以互相访问，不同部门间的终端隔离访问后，要求网络管理员所在的 I 部门(使用终端 PC-5)能够实现对所有部门的访问。即要求实现 VLAN 30 访问 VLAN10 和 VLAN 20，VLAN 10 和 VLAN 20 之间仍然不允许互相访问。如果 S1 的 E 0/0/2 接口仍是 Access 类型且属于 VLAN10，则不能被其他 VLAN 访问。若要 VLAN 30 的终端能访问 VLAN 10 的终端，则需要修改接口的配置，使其既能被 VLAN 10 访问，又能被 VLAN 30 访问，这就要求此接口同时要属于多个 VLAN，且端口所连设备是 PC，不能识别带 VLAN Tag 的帧，故此时只能使用 Hybrid 类型接口。Hybrid 端口既能被加入多个 VLAN 中，又能够在将其余 VLAN 的帧转发到此接口时，剥离掉相应的 VLAN Tag。</p>
<p>S1的配置</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[S1]int Eth 0/0/4[S1-Ethernet0/0/4]port hybrid pvid vlan 30[S1-Ethernet0/0/4]port hybrid untagged vlan 10 20 30[S1]int Eth 0/0/2[S1-Ethernet0/0/2]port hybrid untagged vlan 20 30[S1]int Eth 0/0/3[S1-Ethernet0/0/3]port hybrid untagged vlan 10 30[S1]int Eth 0/0/1[S1-Ethernet0/0/1]port hybrid tagged vlan 10 20 30</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>S2的配置</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[S2]int Eth 0/0/1[S2-Ethernet0/0/1]port hybrid tagged vlan 10 20 30[S2]int Eth 0/0/2[S2-Ethernet0/0/2]port hybrid untagged vlan 20 30[S2]int Eth 0/0/3[S2-Ethernet0/0/3]port hybrid untagged vlan 10 30</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>结果验证</strong></p>
<p><img loading="lazy" alt="图片" src="/assets/images/6-17fe2c8587cbdd0b462451ef9462fca5.png" width="781" height="533" class="img_ev3q"></p>
<p><img loading="lazy" alt="图片" src="/assets/images/7-4d33ea464595748aa64fd486c1773a9d.png" width="781" height="533" class="img_ev3q"></p>
<p><img loading="lazy" alt="图片" src="/assets/images/8-ce79268bec1e1ebd9f0f4104af4443e3.png" width="781" height="533" class="img_ev3q"></p>
<p>在交换机上可以定义多个 VLAN，每个 VLAN 都可以看做是一个广播域，通常情况下每个 VLAN 都会分配一个独立的 IP 网络，根据需要把相应主机所在的接口划入到指定的 VLAN 中，并配置相应的网络 IP 地址，VLAN 间通过路由来实现互相访问。这是较为常用的方法。但是相比于基于端口的 Hybrid 配置，三层路由方式则不够灵活，原因在于 VLAN 之间的访问控制要借助于路由设备来实现。而控制 VLAN 访问使用 Hybrid 接口则极大地简化了配置的复杂性，它仅需在端口上自主定义基于 VLAN Tag 的过滤规则，来决定指定的 VLAN 的二层帧是否允许发送;它是通过二层来实现 VLAN 间的访问控制，既不需要每个 VLAN 定义单独的 IP 网段，更不需要在 VLAN 间引入路由设备，配置更为灵活方便。</p>
<p><strong>本文完</strong></p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/vlan">VLAN</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/实验">实验</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/交换机">交换机</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="博文分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/IPv4 静态路由基础实验"><div class="pagination-nav__sublabel">较新一篇</div><div class="pagination-nav__label">IPv4 静态路由基础实验</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">服务</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://status.cocomoe.cn" target="_blank" rel="noopener noreferrer" class="footer__link-item">Coco巡查姬<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">联系方式</div><ul class="footer__items clean-list"></ul></div><div class="col footer__col"><div class="footer__title">文档许可</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://creativecommons.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Creativecommons<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" target="_blank" rel="noopener noreferrer" class="footer__link-item">署名-非商业性-相同方式共享<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">备案信息</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://icp.gov.moe/?keyword=20242444" target="_blank" rel="noopener noreferrer" class="footer__link-item">萌ICP备20242444号<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 allalone</div></div></div></footer></div>
</body>
</html>